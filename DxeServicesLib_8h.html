<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>XenevaOS: XenevaOS/Boot/include/Library/DxeServicesLib.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">XenevaOS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_6f7cbf0a11b44b0a43b1ec16e930d793.html">XenevaOS</a></li><li class="navelem"><a class="el" href="dir_e155a64606be01e9718a8b1197c63fff.html">Boot</a></li><li class="navelem"><a class="el" href="dir_08690fdcb6b3138c931f33749be09044.html">include</a></li><li class="navelem"><a class="el" href="dir_3fa03858bde791330d1815c06c24866a.html">Library</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">DxeServicesLib.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a href="DxeServicesLib_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a89d31815f16918b5d8fd831f2e8e71eb" id="r_a89d31815f16918b5d8fd831f2e8e71eb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="UefiBaseType_8h.html#a5f446f35c9f907a4f1cf22e794ba338d">EFI_STATUS</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="DxeServicesLib_8h.html#a89d31815f16918b5d8fd831f2e8e71eb">GetSectionFromAnyFvByFileType</a> (<a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="PiFirmwareFile_8h.html#aa8c9898a7322417d167ff078bcde1f2b">EFI_FV_FILETYPE</a> FileType, <a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#a4a2fc3b6f740e9cca9f895579c167560">UINTN</a> FileInstance, <a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="PiFirmwareFile_8h.html#a208180af3108068f979d673a752e58d1">EFI_SECTION_TYPE</a> SectionType, <a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#a4a2fc3b6f740e9cca9f895579c167560">UINTN</a> SectionInstance, <a class="el" href="Base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="acefi_8h.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a> **Buffer, <a class="el" href="Base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#a4a2fc3b6f740e9cca9f895579c167560">UINTN</a> *<a class="el" href="LittleBoot_2pe_8h.html#a1f5ab05b3305a959d954b796c63807c4">Size</a>)</td></tr>
<tr class="separator:a89d31815f16918b5d8fd831f2e8e71eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac075a3bf116716f418c63344f15692f5" id="r_ac075a3bf116716f418c63344f15692f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="UefiBaseType_8h.html#a5f446f35c9f907a4f1cf22e794ba338d">EFI_STATUS</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="DxeServicesLib_8h.html#ac075a3bf116716f418c63344f15692f5">GetSectionFromAnyFv</a> (<a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="Base_8h.html#a0c33b494a68ce28497e7ce8e5e95feff">CONST</a> <a class="el" href="UefiBaseType_8h.html#ad87614428813f71edb2c2d802e9ce2af">EFI_GUID</a> *NameGuid, <a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="PiFirmwareFile_8h.html#a208180af3108068f979d673a752e58d1">EFI_SECTION_TYPE</a> SectionType, <a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#a4a2fc3b6f740e9cca9f895579c167560">UINTN</a> SectionInstance, <a class="el" href="Base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="acefi_8h.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a> **Buffer, <a class="el" href="Base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#a4a2fc3b6f740e9cca9f895579c167560">UINTN</a> *<a class="el" href="LittleBoot_2pe_8h.html#a1f5ab05b3305a959d954b796c63807c4">Size</a>)</td></tr>
<tr class="separator:ac075a3bf116716f418c63344f15692f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac342a3e44b64fb75ff95bed2667d67ab" id="r_ac342a3e44b64fb75ff95bed2667d67ab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="UefiBaseType_8h.html#a5f446f35c9f907a4f1cf22e794ba338d">EFI_STATUS</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="DxeServicesLib_8h.html#ac342a3e44b64fb75ff95bed2667d67ab">GetSectionFromFv</a> (<a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="Base_8h.html#a0c33b494a68ce28497e7ce8e5e95feff">CONST</a> <a class="el" href="UefiBaseType_8h.html#ad87614428813f71edb2c2d802e9ce2af">EFI_GUID</a> *NameGuid, <a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="PiFirmwareFile_8h.html#a208180af3108068f979d673a752e58d1">EFI_SECTION_TYPE</a> SectionType, <a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#a4a2fc3b6f740e9cca9f895579c167560">UINTN</a> SectionInstance, <a class="el" href="Base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="acefi_8h.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a> **Buffer, <a class="el" href="Base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#a4a2fc3b6f740e9cca9f895579c167560">UINTN</a> *<a class="el" href="LittleBoot_2pe_8h.html#a1f5ab05b3305a959d954b796c63807c4">Size</a>)</td></tr>
<tr class="separator:ac342a3e44b64fb75ff95bed2667d67ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75ef2bfc2aab6bd99eed459d0cc28a4f" id="r_a75ef2bfc2aab6bd99eed459d0cc28a4f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="UefiBaseType_8h.html#a5f446f35c9f907a4f1cf22e794ba338d">EFI_STATUS</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="DxeServicesLib_8h.html#a75ef2bfc2aab6bd99eed459d0cc28a4f">GetSectionFromFfs</a> (<a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="PiFirmwareFile_8h.html#a208180af3108068f979d673a752e58d1">EFI_SECTION_TYPE</a> SectionType, <a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#a4a2fc3b6f740e9cca9f895579c167560">UINTN</a> SectionInstance, <a class="el" href="Base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="acefi_8h.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a> **Buffer, <a class="el" href="Base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#a4a2fc3b6f740e9cca9f895579c167560">UINTN</a> *<a class="el" href="LittleBoot_2pe_8h.html#a1f5ab05b3305a959d954b796c63807c4">Size</a>)</td></tr>
<tr class="separator:a75ef2bfc2aab6bd99eed459d0cc28a4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe789482cb125c898588ab3bb99ee176" id="r_abe789482cb125c898588ab3bb99ee176"><td class="memItemLeft" align="right" valign="top"><a class="el" href="acefi_8h.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a> *<a class="el" href="AArch64_2ProcessorBind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="DxeServicesLib_8h.html#abe789482cb125c898588ab3bb99ee176">GetFileBufferByFilePath</a> (<a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="actypes_8h.html#a112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a> BootPolicy, <a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="Base_8h.html#a0c33b494a68ce28497e7ce8e5e95feff">CONST</a> <a class="el" href="structEFI__DEVICE__PATH__PROTOCOL.html">EFI_DEVICE_PATH_PROTOCOL</a> *FilePath, <a class="el" href="Base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#a4a2fc3b6f740e9cca9f895579c167560">UINTN</a> *FileSize, <a class="el" href="Base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#ae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> *AuthenticationStatus)</td></tr>
<tr class="separator:abe789482cb125c898588ab3bb99ee176"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a819ea1e5d6b639c28cbe4223d1157d1f" id="r_a819ea1e5d6b639c28cbe4223d1157d1f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="UefiBaseType_8h.html#a5f446f35c9f907a4f1cf22e794ba338d">EFI_STATUS</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="DxeServicesLib_8h.html#a819ea1e5d6b639c28cbe4223d1157d1f">GetFileDevicePathFromAnyFv</a> (<a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="Base_8h.html#a0c33b494a68ce28497e7ce8e5e95feff">CONST</a> <a class="el" href="UefiBaseType_8h.html#ad87614428813f71edb2c2d802e9ce2af">EFI_GUID</a> *NameGuid, <a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="PiFirmwareFile_8h.html#a208180af3108068f979d673a752e58d1">EFI_SECTION_TYPE</a> SectionType, <a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#a4a2fc3b6f740e9cca9f895579c167560">UINTN</a> SectionInstance, <a class="el" href="Base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="structEFI__DEVICE__PATH__PROTOCOL.html">EFI_DEVICE_PATH_PROTOCOL</a> **FvFileDevicePath)</td></tr>
<tr class="separator:a819ea1e5d6b639c28cbe4223d1157d1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00ee2aadd915e58f47f5be1fc52e226a" id="r_a00ee2aadd915e58f47f5be1fc52e226a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="acefi_8h.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a> *<a class="el" href="AArch64_2ProcessorBind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="DxeServicesLib_8h.html#a00ee2aadd915e58f47f5be1fc52e226a">AllocatePeiAccessiblePages</a> (<a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="UefiMultiPhase_8h.html#a0e2cdd0290e753cca604d3977cbe8bb9">EFI_MEMORY_TYPE</a> MemoryType, <a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#a4a2fc3b6f740e9cca9f895579c167560">UINTN</a> Pages)</td></tr>
<tr class="separator:a00ee2aadd915e58f47f5be1fc52e226a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>MDE DXE Services Library provides functions that simplify the development of DXE Drivers. These functions help access data from sections of FFS files or from file path.</p>
<p>Copyright (c) 2006 - 2018, Intel Corporation. All rights reserved.<br  />
 (C) Copyright 2015 Hewlett Packard Enterprise Development LP<br  />
 This program and the accompanying materials are licensed and made available under the terms and conditions of the BSD License that accompanies this distribution. The full text of the license may be found at <a href="http://opensource.org/licenses/bsd-license.php">http://opensource.org/licenses/bsd-license.php</a>.</p>
<p>THE PROGRAM IS DISTRIBUTED UNDER THE BSD LICENSE ON AN "AS IS" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS OF ANY KIND, EITHER EXPRESS OR IMPLIED. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a00ee2aadd915e58f47f5be1fc52e226a" name="a00ee2aadd915e58f47f5be1fc52e226a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00ee2aadd915e58f47f5be1fc52e226a">&#9670;&#160;</a></span>AllocatePeiAccessiblePages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="acefi_8h.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a> *<a class="el" href="AArch64_2ProcessorBind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a> AllocatePeiAccessiblePages </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="UefiMultiPhase_8h.html#a0e2cdd0290e753cca604d3977cbe8bb9">EFI_MEMORY_TYPE</a>&#160;</td>
          <td class="paramname"><em>MemoryType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#a4a2fc3b6f740e9cca9f895579c167560">UINTN</a>&#160;</td>
          <td class="paramname"><em>Pages</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocates one or more 4KB pages of a given type from a memory region that is accessible to PEI.</p>
<p>Allocates the number of 4KB pages of type 'MemoryType' and returns a pointer to the allocated buffer. The buffer returned is aligned on a 4KB boundary. If Pages is 0, then NULL is returned. If there is not enough memory remaining to satisfy the request, then NULL is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">MemoryType</td><td>The memory type to allocate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Pages</td><td>The number of 4 KB pages to allocate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the allocated buffer or NULL if allocation fails. </dd></dl>

</div>
</div>
<a id="abe789482cb125c898588ab3bb99ee176" name="abe789482cb125c898588ab3bb99ee176"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe789482cb125c898588ab3bb99ee176">&#9670;&#160;</a></span>GetFileBufferByFilePath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="acefi_8h.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a> *<a class="el" href="AArch64_2ProcessorBind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a> GetFileBufferByFilePath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="actypes_8h.html#a112e3146cb38b6ee95e64d85842e380a">BOOLEAN</a>&#160;</td>
          <td class="paramname"><em>BootPolicy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="Base_8h.html#a0c33b494a68ce28497e7ce8e5e95feff">CONST</a> <a class="el" href="structEFI__DEVICE__PATH__PROTOCOL.html">EFI_DEVICE_PATH_PROTOCOL</a> *&#160;</td>
          <td class="paramname"><em>FilePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#a4a2fc3b6f740e9cca9f895579c167560">UINTN</a> *&#160;</td>
          <td class="paramname"><em>FileSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#ae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> *&#160;</td>
          <td class="paramname"><em>AuthenticationStatus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the image file buffer data and buffer size by its device path.</p>
<p>Access the file either from a firmware volume, from a file system interface, or from the load file interface.</p>
<p>Allocate memory to store the found image. The caller is responsible to free memory.</p>
<p>If FilePath is NULL, then NULL is returned. If FileSize is NULL, then NULL is returned. If AuthenticationStatus is NULL, then NULL is returned.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">BootPolicy</td><td>The policy for Open Image File.If TRUE, indicates that the request originates from the boot manager, and that the boot manager is attempting to load FilePath as a boot selection. If FALSE, then FilePath must match an exact file to be loaded. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">FilePath</td><td>Pointer to the device path of the file that is abstracted to the file buffer. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">FileSize</td><td>Pointer to the size of the abstracted file buffer. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">AuthenticationStatus</td><td>Pointer to the authentication status.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NULL</td><td>FilePath is NULL, or FileSize is NULL, or AuthenticationStatus is NULL, or the file can't be found. </td></tr>
    <tr><td class="paramname">other</td><td>The abstracted file buffer. The caller is responsible to free memory. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a819ea1e5d6b639c28cbe4223d1157d1f" name="a819ea1e5d6b639c28cbe4223d1157d1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a819ea1e5d6b639c28cbe4223d1157d1f">&#9670;&#160;</a></span>GetFileDevicePathFromAnyFv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="UefiBaseType_8h.html#a5f446f35c9f907a4f1cf22e794ba338d">EFI_STATUS</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a> GetFileDevicePathFromAnyFv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="Base_8h.html#a0c33b494a68ce28497e7ce8e5e95feff">CONST</a> <a class="el" href="UefiBaseType_8h.html#ad87614428813f71edb2c2d802e9ce2af">EFI_GUID</a> *&#160;</td>
          <td class="paramname"><em>NameGuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="PiFirmwareFile_8h.html#a208180af3108068f979d673a752e58d1">EFI_SECTION_TYPE</a>&#160;</td>
          <td class="paramname"><em>SectionType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#a4a2fc3b6f740e9cca9f895579c167560">UINTN</a>&#160;</td>
          <td class="paramname"><em>SectionInstance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="structEFI__DEVICE__PATH__PROTOCOL.html">EFI_DEVICE_PATH_PROTOCOL</a> **&#160;</td>
          <td class="paramname"><em>FvFileDevicePath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Searches all the available firmware volumes and returns the file device path of first matching FFS section.</p>
<p>This function searches all the firmware volumes for FFS files with an FFS filename specified by NameGuid. The order that the firmware volumes is searched is not deterministic. For each FFS file found a search is made for FFS sections of type SectionType.</p>
<p>If SectionType is EFI_SECTION_TE, and the search with an FFS file fails, the search will be retried with a section type of EFI_SECTION_PE32. This function must be called with a TPL &lt;= TPL_NOTIFY.</p>
<p>If NameGuid is NULL, then <a class="el" href="DebugLib_8h.html#a76b4aae2259415ea4b7e2c9b34ede0bb">ASSERT()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">NameGuid</td><td>A pointer to to the FFS filename <a class="el" href="structGUID.html">GUID</a> to search for within any of the firmware volumes in the platform. </td></tr>
    <tr><td class="paramname">SectionType</td><td>Indicates the FFS section type to search for within the FFS file specified by NameGuid. </td></tr>
    <tr><td class="paramname">SectionInstance</td><td>Indicates which section instance within the FFS file specified by NameGuid to retrieve. </td></tr>
    <tr><td class="paramname">FvFileDevicePath</td><td>Device path for the target FFS file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>The specified file device path of FFS section was returned. </td></tr>
    <tr><td class="paramname">EFI_NOT_FOUND</td><td>The specified file device path of FFS section could not be found. </td></tr>
    <tr><td class="paramname">EFI_DEVICE_ERROR</td><td>The FFS section could not be retrieves due to a device error. </td></tr>
    <tr><td class="paramname">EFI_ACCESS_DENIED</td><td>The FFS section could not be retrieves because the firmware volume that contains the matching FFS section does not allow reads. </td></tr>
    <tr><td class="paramname">EFI_INVALID_PARAMETER</td><td>FvFileDevicePath is NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac075a3bf116716f418c63344f15692f5" name="ac075a3bf116716f418c63344f15692f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac075a3bf116716f418c63344f15692f5">&#9670;&#160;</a></span>GetSectionFromAnyFv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="UefiBaseType_8h.html#a5f446f35c9f907a4f1cf22e794ba338d">EFI_STATUS</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a> GetSectionFromAnyFv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="Base_8h.html#a0c33b494a68ce28497e7ce8e5e95feff">CONST</a> <a class="el" href="UefiBaseType_8h.html#ad87614428813f71edb2c2d802e9ce2af">EFI_GUID</a> *&#160;</td>
          <td class="paramname"><em>NameGuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="PiFirmwareFile_8h.html#a208180af3108068f979d673a752e58d1">EFI_SECTION_TYPE</a>&#160;</td>
          <td class="paramname"><em>SectionType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#a4a2fc3b6f740e9cca9f895579c167560">UINTN</a>&#160;</td>
          <td class="paramname"><em>SectionInstance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="acefi_8h.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a> **&#160;</td>
          <td class="paramname"><em>Buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#a4a2fc3b6f740e9cca9f895579c167560">UINTN</a> *&#160;</td>
          <td class="paramname"><em>Size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Searches all the available firmware volumes and returns the first matching FFS section.</p>
<p>This function searches all the firmware volumes for FFS files with an FFS filename specified by NameGuid. The order in which the firmware volumes are searched is not deterministic. For each FFS file found, a search is made for FFS sections of type SectionType. If the FFS file contains at least SectionInstance instances of the FFS section specified by SectionType, then the SectionInstance instance is returned in Buffer. Buffer is allocated using <a class="el" href="MemoryAllocationLib_8h.html#a1c677b257b7d0e9fee0ac869947c5606">AllocatePool()</a>, and the size of the allocated buffer is returned in Size. It is the caller's responsibility to use <a class="el" href="MemoryAllocationLib_8h.html#a8b1cbc21e0cebcfc6a992546ec9b4941">FreePool()</a> to free the allocated buffer. See <a class="el" href="struct__EFI__FIRMWARE__VOLUME2__PROTOCOL.html#ab4b01f77853f9d78136a12c798ead69d">EFI_FIRMWARE_VOLUME2_PROTOCOL.ReadSection()</a> for details on how sections are retrieved from an FFS file based on SectionType and SectionInstance.</p>
<p>If SectionType is EFI_SECTION_TE, and the search with an FFS file fails, the search will be retried with a section type of EFI_SECTION_PE32. This function must be called with a TPL &lt;= TPL_NOTIFY.</p>
<p>If NameGuid is NULL, then <a class="el" href="DebugLib_8h.html#a76b4aae2259415ea4b7e2c9b34ede0bb">ASSERT()</a>. If Buffer is NULL, then <a class="el" href="DebugLib_8h.html#a76b4aae2259415ea4b7e2c9b34ede0bb">ASSERT()</a>. If Size is NULL, then <a class="el" href="DebugLib_8h.html#a76b4aae2259415ea4b7e2c9b34ede0bb">ASSERT()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">NameGuid</td><td>A pointer to to the FFS filename <a class="el" href="structGUID.html">GUID</a> to search for within any of the firmware volumes in the platform. </td></tr>
    <tr><td class="paramname">SectionType</td><td>Indicates the FFS section type to search for within the FFS file specified by NameGuid. </td></tr>
    <tr><td class="paramname">SectionInstance</td><td>Indicates which section instance within the FFS file specified by NameGuid to retrieve. </td></tr>
    <tr><td class="paramname">Buffer</td><td>On output, a pointer to a callee-allocated buffer containing the FFS file section that was found. It is the caller's responsibility to free this buffer using <a class="el" href="MemoryAllocationLib_8h.html#a8b1cbc21e0cebcfc6a992546ec9b4941">FreePool()</a>. </td></tr>
    <tr><td class="paramname">Size</td><td>On output, a pointer to the size, in bytes, of Buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>The specified FFS section was returned. </td></tr>
    <tr><td class="paramname">EFI_NOT_FOUND</td><td>The specified FFS section could not be found. </td></tr>
    <tr><td class="paramname">EFI_OUT_OF_RESOURCES</td><td>There are not enough resources available to retrieve the matching FFS section. </td></tr>
    <tr><td class="paramname">EFI_DEVICE_ERROR</td><td>The FFS section could not be retrieves due to a device error. </td></tr>
    <tr><td class="paramname">EFI_ACCESS_DENIED</td><td>The FFS section could not be retrieves because the firmware volume that contains the matching FFS section does not allow reads. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a89d31815f16918b5d8fd831f2e8e71eb" name="a89d31815f16918b5d8fd831f2e8e71eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89d31815f16918b5d8fd831f2e8e71eb">&#9670;&#160;</a></span>GetSectionFromAnyFvByFileType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="UefiBaseType_8h.html#a5f446f35c9f907a4f1cf22e794ba338d">EFI_STATUS</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a> GetSectionFromAnyFvByFileType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="PiFirmwareFile_8h.html#aa8c9898a7322417d167ff078bcde1f2b">EFI_FV_FILETYPE</a>&#160;</td>
          <td class="paramname"><em>FileType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#a4a2fc3b6f740e9cca9f895579c167560">UINTN</a>&#160;</td>
          <td class="paramname"><em>FileInstance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="PiFirmwareFile_8h.html#a208180af3108068f979d673a752e58d1">EFI_SECTION_TYPE</a>&#160;</td>
          <td class="paramname"><em>SectionType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#a4a2fc3b6f740e9cca9f895579c167560">UINTN</a>&#160;</td>
          <td class="paramname"><em>SectionInstance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="acefi_8h.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a> **&#160;</td>
          <td class="paramname"><em>Buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#a4a2fc3b6f740e9cca9f895579c167560">UINTN</a> *&#160;</td>
          <td class="paramname"><em>Size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Searches all the available firmware volumes and returns the first matching FFS section.</p>
<p>This function searches all the firmware volumes for FFS files with FV file type specified by FileType The order that the firmware volumes is searched is not deterministic. For each available FV a search is made for FFS file of type FileType. If the FV contains more than one FFS file with the same FileType, the FileInstance instance will be the matched FFS file. For each FFS file found a search is made for FFS sections of type SectionType. If the FFS file contains at least SectionInstance instances of the FFS section specified by SectionType, then the SectionInstance instance is returned in Buffer. Buffer is allocated using <a class="el" href="MemoryAllocationLib_8h.html#a1c677b257b7d0e9fee0ac869947c5606">AllocatePool()</a>, and the size of the allocated buffer is returned in Size. It is the caller's responsibility to use <a class="el" href="MemoryAllocationLib_8h.html#a8b1cbc21e0cebcfc6a992546ec9b4941">FreePool()</a> to free the allocated buffer. See <a class="el" href="struct__EFI__FIRMWARE__VOLUME2__PROTOCOL.html#ab4b01f77853f9d78136a12c798ead69d">EFI_FIRMWARE_VOLUME2_PROTOCOL.ReadSection()</a> for details on how sections are retrieved from an FFS file based on SectionType and SectionInstance.</p>
<p>If SectionType is EFI_SECTION_TE, and the search with an FFS file fails, the search will be retried with a section type of EFI_SECTION_PE32. This function must be called with a TPL &lt;= TPL_NOTIFY.</p>
<p>If Buffer is NULL, then <a class="el" href="DebugLib_8h.html#a76b4aae2259415ea4b7e2c9b34ede0bb">ASSERT()</a>. If Size is NULL, then <a class="el" href="DebugLib_8h.html#a76b4aae2259415ea4b7e2c9b34ede0bb">ASSERT()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FileType</td><td>Indicates the FV file type to search for within all available FVs. </td></tr>
    <tr><td class="paramname">FileInstance</td><td>Indicates which file instance within all available FVs specified by FileType. FileInstance starts from zero. </td></tr>
    <tr><td class="paramname">SectionType</td><td>Indicates the FFS section type to search for within the FFS file specified by FileType with FileInstance. </td></tr>
    <tr><td class="paramname">SectionInstance</td><td>Indicates which section instance within the FFS file specified by FileType with FileInstance to retrieve. SectionInstance starts from zero. </td></tr>
    <tr><td class="paramname">Buffer</td><td>On output, a pointer to a callee allocated buffer containing the FFS file section that was found. Is it the caller's responsibility to free this buffer using <a class="el" href="MemoryAllocationLib_8h.html#a8b1cbc21e0cebcfc6a992546ec9b4941">FreePool()</a>. </td></tr>
    <tr><td class="paramname">Size</td><td>On output, a pointer to the size, in bytes, of Buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>The specified FFS section was returned. </td></tr>
    <tr><td class="paramname">EFI_NOT_FOUND</td><td>The specified FFS section could not be found. </td></tr>
    <tr><td class="paramname">EFI_OUT_OF_RESOURCES</td><td>There are not enough resources available to retrieve the matching FFS section. </td></tr>
    <tr><td class="paramname">EFI_DEVICE_ERROR</td><td>The FFS section could not be retrieves due to a device error. </td></tr>
    <tr><td class="paramname">EFI_ACCESS_DENIED</td><td>The FFS section could not be retrieves because the firmware volume that contains the matching FFS section does not allow reads. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a75ef2bfc2aab6bd99eed459d0cc28a4f" name="a75ef2bfc2aab6bd99eed459d0cc28a4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75ef2bfc2aab6bd99eed459d0cc28a4f">&#9670;&#160;</a></span>GetSectionFromFfs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="UefiBaseType_8h.html#a5f446f35c9f907a4f1cf22e794ba338d">EFI_STATUS</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a> GetSectionFromFfs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="PiFirmwareFile_8h.html#a208180af3108068f979d673a752e58d1">EFI_SECTION_TYPE</a>&#160;</td>
          <td class="paramname"><em>SectionType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#a4a2fc3b6f740e9cca9f895579c167560">UINTN</a>&#160;</td>
          <td class="paramname"><em>SectionInstance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="acefi_8h.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a> **&#160;</td>
          <td class="paramname"><em>Buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#a4a2fc3b6f740e9cca9f895579c167560">UINTN</a> *&#160;</td>
          <td class="paramname"><em>Size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Searches the FFS file the the currently executing module was loaded from and returns the first matching FFS section.</p>
<p>This function searches the FFS file that the currently executing module was loaded from for a FFS sections of type SectionType. If the FFS file contains at least SectionInstance instances of the FFS section specified by SectionType, then the SectionInstance instance is returned in Buffer. Buffer is allocated using <a class="el" href="MemoryAllocationLib_8h.html#a1c677b257b7d0e9fee0ac869947c5606">AllocatePool()</a>, and the size of the allocated buffer is returned in Size. It is the caller's responsibility to use <a class="el" href="MemoryAllocationLib_8h.html#a8b1cbc21e0cebcfc6a992546ec9b4941">FreePool()</a> to free the allocated buffer. See <a class="el" href="struct__EFI__FIRMWARE__VOLUME2__PROTOCOL.html#ab4b01f77853f9d78136a12c798ead69d">EFI_FIRMWARE_VOLUME2_PROTOCOL.ReadSection()</a> for details on how sections are retrieved from an FFS file based on SectionType and SectionInstance.</p>
<p>If the currently executing module was not loaded from an FFS file, then EFI_NOT_FOUND is returned. If SectionType is EFI_SECTION_TE, and the search with an FFS file fails, the search will be retried with a section type of EFI_SECTION_PE32. This function must be called with a TPL &lt;= TPL_NOTIFY.</p>
<p>If Buffer is NULL, then <a class="el" href="DebugLib_8h.html#a76b4aae2259415ea4b7e2c9b34ede0bb">ASSERT()</a>. If Size is NULL, then <a class="el" href="DebugLib_8h.html#a76b4aae2259415ea4b7e2c9b34ede0bb">ASSERT()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">SectionType</td><td>Indicates the FFS section type to search for within the FFS file that the currently executing module was loaded from. </td></tr>
    <tr><td class="paramname">SectionInstance</td><td>Indicates which section instance to retrieve within the FFS file that the currently executing module was loaded from. </td></tr>
    <tr><td class="paramname">Buffer</td><td>On output, a pointer to a callee allocated buffer containing the FFS file section that was found. It is the caller's responsibility to free this buffer using <a class="el" href="MemoryAllocationLib_8h.html#a8b1cbc21e0cebcfc6a992546ec9b4941">FreePool()</a>. </td></tr>
    <tr><td class="paramname">Size</td><td>On output, a pointer to the size, in bytes, of Buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>The specified FFS section was returned. </td></tr>
    <tr><td class="paramname">EFI_NOT_FOUND</td><td>The specified FFS section could not be found. </td></tr>
    <tr><td class="paramname">EFI_OUT_OF_RESOURCES</td><td>There are not enough resources available to retrieve the matching FFS section. </td></tr>
    <tr><td class="paramname">EFI_DEVICE_ERROR</td><td>The FFS section could not be retrieves due to a device error. </td></tr>
    <tr><td class="paramname">EFI_ACCESS_DENIED</td><td>The FFS section could not be retrieves because the firmware volume that contains the matching FFS section does not allow reads. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac342a3e44b64fb75ff95bed2667d67ab" name="ac342a3e44b64fb75ff95bed2667d67ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac342a3e44b64fb75ff95bed2667d67ab">&#9670;&#160;</a></span>GetSectionFromFv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="UefiBaseType_8h.html#a5f446f35c9f907a4f1cf22e794ba338d">EFI_STATUS</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a> GetSectionFromFv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="Base_8h.html#a0c33b494a68ce28497e7ce8e5e95feff">CONST</a> <a class="el" href="UefiBaseType_8h.html#ad87614428813f71edb2c2d802e9ce2af">EFI_GUID</a> *&#160;</td>
          <td class="paramname"><em>NameGuid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="PiFirmwareFile_8h.html#a208180af3108068f979d673a752e58d1">EFI_SECTION_TYPE</a>&#160;</td>
          <td class="paramname"><em>SectionType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#a4a2fc3b6f740e9cca9f895579c167560">UINTN</a>&#160;</td>
          <td class="paramname"><em>SectionInstance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="acefi_8h.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a> **&#160;</td>
          <td class="paramname"><em>Buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#a4a2fc3b6f740e9cca9f895579c167560">UINTN</a> *&#160;</td>
          <td class="paramname"><em>Size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Searches the firmware volume that the currently executing module was loaded from and returns the first matching FFS section.</p>
<p>This function searches the firmware volume that the currently executing module was loaded from for an FFS file with an FFS filename specified by NameGuid. If the FFS file is found, a search is made for FFS sections of type SectionType. If the FFS file contains at least SectionInstance instances of the FFS section specified by SectionType, then the SectionInstance instance is returned in Buffer. Buffer is allocated using <a class="el" href="MemoryAllocationLib_8h.html#a1c677b257b7d0e9fee0ac869947c5606">AllocatePool()</a>, and the size of the allocated buffer is returned in Size. It is the caller's responsibility to use <a class="el" href="MemoryAllocationLib_8h.html#a8b1cbc21e0cebcfc6a992546ec9b4941">FreePool()</a> to free the allocated buffer. See <a class="el" href="struct__EFI__FIRMWARE__VOLUME2__PROTOCOL.html#ab4b01f77853f9d78136a12c798ead69d">EFI_FIRMWARE_VOLUME2_PROTOCOL.ReadSection()</a> for details on how sections are retrieved from an FFS file based on SectionType and SectionInstance.</p>
<p>If the currently executing module was not loaded from a firmware volume, then EFI_NOT_FOUND is returned. If SectionType is EFI_SECTION_TE, and the search with an FFS file fails, the search will be retried with a section type of EFI_SECTION_PE32.</p>
<p>This function must be called with a TPL &lt;= TPL_NOTIFY. If NameGuid is NULL, then <a class="el" href="DebugLib_8h.html#a76b4aae2259415ea4b7e2c9b34ede0bb">ASSERT()</a>. If Buffer is NULL, then <a class="el" href="DebugLib_8h.html#a76b4aae2259415ea4b7e2c9b34ede0bb">ASSERT()</a>. If Size is NULL, then <a class="el" href="DebugLib_8h.html#a76b4aae2259415ea4b7e2c9b34ede0bb">ASSERT()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">NameGuid</td><td>A pointer to to the FFS filename <a class="el" href="structGUID.html">GUID</a> to search for within the firmware volumes that the currently executing module was loaded from. </td></tr>
    <tr><td class="paramname">SectionType</td><td>Indicates the FFS section type to search for within the FFS file specified by NameGuid. </td></tr>
    <tr><td class="paramname">SectionInstance</td><td>Indicates which section instance within the FFS file specified by NameGuid to retrieve. </td></tr>
    <tr><td class="paramname">Buffer</td><td>On output, a pointer to a callee allocated buffer containing the FFS file section that was found. It is the caller's responsibility to free this buffer using <a class="el" href="MemoryAllocationLib_8h.html#a8b1cbc21e0cebcfc6a992546ec9b4941">FreePool()</a>. </td></tr>
    <tr><td class="paramname">Size</td><td>On output, a pointer to the size, in bytes, of Buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">EFI_SUCCESS</td><td>The specified FFS section was returned. </td></tr>
    <tr><td class="paramname">EFI_NOT_FOUND</td><td>The specified FFS section could not be found. </td></tr>
    <tr><td class="paramname">EFI_OUT_OF_RESOURCES</td><td>There are not enough resources available to retrieve the matching FFS section. </td></tr>
    <tr><td class="paramname">EFI_DEVICE_ERROR</td><td>The FFS section could not be retrieves due to a device error. </td></tr>
    <tr><td class="paramname">EFI_ACCESS_DENIED</td><td>The FFS section could not be retrieves because the firmware volume that contains the matching FFS section does not allow reads. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
