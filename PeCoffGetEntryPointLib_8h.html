<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>XenevaOS: XenevaOS/Boot/include/Library/PeCoffGetEntryPointLib.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">XenevaOS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_6f7cbf0a11b44b0a43b1ec16e930d793.html">XenevaOS</a></li><li class="navelem"><a class="el" href="dir_e155a64606be01e9718a8b1197c63fff.html">Boot</a></li><li class="navelem"><a class="el" href="dir_08690fdcb6b3138c931f33749be09044.html">include</a></li><li class="navelem"><a class="el" href="dir_3fa03858bde791330d1815c06c24866a.html">Library</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">PeCoffGetEntryPointLib.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a href="PeCoffGetEntryPointLib_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a34ed6fbde9eba91b245769424d1a5114" id="r_a34ed6fbde9eba91b245769424d1a5114"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Base_8h.html#ae30979abefc3ca8dc6f2135dc9cc40be">RETURN_STATUS</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PeCoffGetEntryPointLib_8h.html#a34ed6fbde9eba91b245769424d1a5114">PeCoffLoaderGetEntryPoint</a> (<a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="acefi_8h.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a> *Pe32Data, <a class="el" href="Base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="acefi_8h.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a> **EntryPoint)</td></tr>
<tr class="separator:a34ed6fbde9eba91b245769424d1a5114"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a766ea1b9232cc1f8f686180210c3a515" id="r_a766ea1b9232cc1f8f686180210c3a515"><td class="memItemLeft" align="right" valign="top"><a class="el" href="actypes_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PeCoffGetEntryPointLib_8h.html#a766ea1b9232cc1f8f686180210c3a515">PeCoffLoaderGetMachineType</a> (<a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="acefi_8h.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a> *Pe32Data)</td></tr>
<tr class="separator:a766ea1b9232cc1f8f686180210c3a515"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2bb551f0ace8638cb333774beafc108" id="r_aa2bb551f0ace8638cb333774beafc108"><td class="memItemLeft" align="right" valign="top"><a class="el" href="acefi_8h.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a> *<a class="el" href="AArch64_2ProcessorBind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PeCoffGetEntryPointLib_8h.html#aa2bb551f0ace8638cb333774beafc108">PeCoffLoaderGetPdbPointer</a> (<a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="acefi_8h.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a> *Pe32Data)</td></tr>
<tr class="separator:aa2bb551f0ace8638cb333774beafc108"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a439b5fa1f5321139cc4ea25a98ef2c" id="r_a2a439b5fa1f5321139cc4ea25a98ef2c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="AArch64_2ProcessorBind_8h.html#ae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PeCoffGetEntryPointLib_8h.html#a2a439b5fa1f5321139cc4ea25a98ef2c">PeCoffGetSizeOfHeaders</a> (<a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="acefi_8h.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a> *Pe32Data)</td></tr>
<tr class="separator:a2a439b5fa1f5321139cc4ea25a98ef2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfeb0a7c725c30a42898ebc15b59e9d1" id="r_adfeb0a7c725c30a42898ebc15b59e9d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="AArch64_2ProcessorBind_8h.html#a4a2fc3b6f740e9cca9f895579c167560">UINTN</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PeCoffGetEntryPointLib_8h.html#adfeb0a7c725c30a42898ebc15b59e9d1">PeCoffSearchImageBase</a> (<a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#a4a2fc3b6f740e9cca9f895579c167560">UINTN</a> <a class="el" href="acpixf_8h.html#a5c9068e87bdb7dd28aaf9b2565a0cc3c">Address</a>)</td></tr>
<tr class="separator:adfeb0a7c725c30a42898ebc15b59e9d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides a service to retrieve the PE/COFF entry point from a PE/COFF image.</p>
<p>Copyright (c) 2006 - 2018, Intel Corporation. All rights reserved.<br  />
 This program and the accompanying materials are licensed and made available under the terms and conditions of the BSD License that accompanies this distribution. The full text of the license may be found at <a href="http://opensource.org/licenses/bsd-license.php">http://opensource.org/licenses/bsd-license.php</a>.</p>
<p>THE PROGRAM IS DISTRIBUTED UNDER THE BSD LICENSE ON AN "AS IS" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS OF ANY KIND, EITHER EXPRESS OR IMPLIED. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a2a439b5fa1f5321139cc4ea25a98ef2c" name="a2a439b5fa1f5321139cc4ea25a98ef2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a439b5fa1f5321139cc4ea25a98ef2c">&#9670;&#160;</a></span>PeCoffGetSizeOfHeaders()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="AArch64_2ProcessorBind_8h.html#ae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a> PeCoffGetSizeOfHeaders </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="acefi_8h.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a> *&#160;</td>
          <td class="paramname"><em>Pe32Data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the size of the PE/COFF headers</p>
<p>Returns the size of the PE/COFF header specified by Pe32Data. If Pe32Data is NULL, then <a class="el" href="DebugLib_8h.html#a76b4aae2259415ea4b7e2c9b34ede0bb">ASSERT()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Pe32Data</td><td>The pointer to the PE/COFF image that is loaded in system memory.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Size of PE/COFF header in bytes, or zero if not a valid image. </dd></dl>

</div>
</div>
<a id="a34ed6fbde9eba91b245769424d1a5114" name="a34ed6fbde9eba91b245769424d1a5114"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34ed6fbde9eba91b245769424d1a5114">&#9670;&#160;</a></span>PeCoffLoaderGetEntryPoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Base_8h.html#ae30979abefc3ca8dc6f2135dc9cc40be">RETURN_STATUS</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a> PeCoffLoaderGetEntryPoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="acefi_8h.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a> *&#160;</td>
          <td class="paramname"><em>Pe32Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Base_8h.html#aec78e7a9e90a406a56f859ee456e8eae">OUT</a> <a class="el" href="acefi_8h.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a> **&#160;</td>
          <td class="paramname"><em>EntryPoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves and returns a pointer to the entry point to a PE/COFF image that has been loaded into system memory with the PE/COFF Loader Library functions.</p>
<p>Retrieves the entry point to the PE/COFF image specified by Pe32Data and returns this entry point in EntryPoint. If the entry point could not be retrieved from the PE/COFF image, then return RETURN_INVALID_PARAMETER. Otherwise return RETURN_SUCCESS. If Pe32Data is NULL, then <a class="el" href="DebugLib_8h.html#a76b4aae2259415ea4b7e2c9b34ede0bb">ASSERT()</a>. If EntryPoint is NULL, then <a class="el" href="DebugLib_8h.html#a76b4aae2259415ea4b7e2c9b34ede0bb">ASSERT()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Pe32Data</td><td>The pointer to the PE/COFF image that is loaded in system memory. </td></tr>
    <tr><td class="paramname">EntryPoint</td><td>The pointer to entry point to the PE/COFF image to return.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">RETURN_SUCCESS</td><td>EntryPoint was returned. </td></tr>
    <tr><td class="paramname">RETURN_INVALID_PARAMETER</td><td>The entry point could not be found in the PE/COFF image. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a766ea1b9232cc1f8f686180210c3a515" name="a766ea1b9232cc1f8f686180210c3a515"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a766ea1b9232cc1f8f686180210c3a515">&#9670;&#160;</a></span>PeCoffLoaderGetMachineType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="actypes_8h.html#a09f1a1fb2293e33483cc8d44aefb1eb1">UINT16</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a> PeCoffLoaderGetMachineType </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="acefi_8h.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a> *&#160;</td>
          <td class="paramname"><em>Pe32Data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the machine type of a PE/COFF image.</p>
<p>Returns the machine type from the PE/COFF image specified by Pe32Data. If Pe32Data is NULL, then <a class="el" href="DebugLib_8h.html#a76b4aae2259415ea4b7e2c9b34ede0bb">ASSERT()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Pe32Data</td><td>The pointer to the PE/COFF image that is loaded in system memory.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Machine type or zero if not a valid image. </dd></dl>

</div>
</div>
<a id="aa2bb551f0ace8638cb333774beafc108" name="aa2bb551f0ace8638cb333774beafc108"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2bb551f0ace8638cb333774beafc108">&#9670;&#160;</a></span>PeCoffLoaderGetPdbPointer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="acefi_8h.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a> *<a class="el" href="AArch64_2ProcessorBind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a> PeCoffLoaderGetPdbPointer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="acefi_8h.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a> *&#160;</td>
          <td class="paramname"><em>Pe32Data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a pointer to the PDB file name for a PE/COFF image that has been loaded into system memory with the PE/COFF Loader Library functions.</p>
<p>Returns the PDB file name for the PE/COFF image specified by Pe32Data. If the PE/COFF image specified by Pe32Data is not a valid, then NULL is returned. If the PE/COFF image specified by Pe32Data does not contain a debug directory entry, then NULL is returned. If the debug directory entry in the PE/COFF image specified by Pe32Data does not contain a PDB file name, then NULL is returned. If Pe32Data is NULL, then <a class="el" href="DebugLib_8h.html#a76b4aae2259415ea4b7e2c9b34ede0bb">ASSERT()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Pe32Data</td><td>The pointer to the PE/COFF image that is loaded in system memory.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The PDB file name for the PE/COFF image specified by Pe32Data, or NULL if it cannot be retrieved. </dd></dl>

</div>
</div>
<a id="adfeb0a7c725c30a42898ebc15b59e9d1" name="adfeb0a7c725c30a42898ebc15b59e9d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfeb0a7c725c30a42898ebc15b59e9d1">&#9670;&#160;</a></span>PeCoffSearchImageBase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="AArch64_2ProcessorBind_8h.html#a4a2fc3b6f740e9cca9f895579c167560">UINTN</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#aa3998ed6456694d79e9a45f821f379ed">EFIAPI</a> PeCoffSearchImageBase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Base_8h.html#ac2bbd6d630a06a980d9a92ddb9a49928">IN</a> <a class="el" href="AArch64_2ProcessorBind_8h.html#a4a2fc3b6f740e9cca9f895579c167560">UINTN</a>&#160;</td>
          <td class="paramname"><em>Address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns PE/COFF image base specified by the address in this PE/COFF image.</p>
<p>On DEBUG build, searches the PE/COFF image base forward the address in this PE/COFF image and returns it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Address</td><td>Address located in one PE/COFF image.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>RELEASE build or cannot find the PE/COFF image base. </td></tr>
    <tr><td class="paramname">others</td><td>PE/COFF image base found. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
